{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}


<div class="jumbotron main-image">
	<div class="card main-card">
		<h1 class="display-4 links">Golf Vouchers</h1>
		<p class="lead links">Golf can be an expensive sport to play. Let us help with that!</p>
		<p class="lead links">Everything on Golf Vouchers is brand new and available at a reduced price. We even have a
			sale
			section for further reductions.
		</p>
	</div>
</div>
{% if user.is_staff %}
<div class="container justify-content-center">
	<div class="card">
		<p class="lead">Admin Panel</p>
		<a class="btn " data-toggle="tooltip" data-placement="top" title="View and purchase"
			href="{% url 'new_post' %}">New Product
		</a>
	</div>
	{% endif %}
	<div class="card text-white">
		<form method="GET">
			{{post_filter.form}}
			<button class="btn btn-primary" type="submit">Search</button>
		</form>
	</div>
	<div class="row">
		{% for post in posts %}
		<div class="card-deck col-xs-12 col-md-4">
			<div class="card">
				<img class="card-img-top img-fluid default-image" src="{{ MEDIA_URL }}{{ post.image }}" alt="Product image">
				<div class="card-header">
					<div class="card-title">
						<a class="lead links" data-toggle="tooltip" data-placement="top" title="View and purchase"
							href="{% url 'post_detail' post.id %}">{{post.title}}</a>
					</div>
					<div class="row review-text lead">
						<p class="lead links">Â£{{ post.price }}</p>
					</div>
				</div>
			</div>
		</div>

		{% endfor %}
	</div>
	<div class="row justify-content-center">
		<nav aria-label="Pagination">
			<ul class="pagination">
				{% if posts.has_previous %}
				<li class="page-item"><a class="page-link" href="?page=1">First</a></li>
				<li class="page-item"><a class="page-link" href="?page={{ posts.previous_page_number }}">Previous</a>
				</li>
                {% else %}
                <li class="page-item disabled"><a class="page-link" href="?page=1">First</a></li>
                <li class="page-item disabled"><a class="page-link" href="?page=1">Previous</a></li>
				{% endif %}
				{% if posts.has_next %}
				<li class="page-item"><a class="page-link" href="?page={{ posts.next_page_number }}">Next</a></li>
				<li class="page-item"><a class="page-link" href="?page={{ posts.next_page_number }}">Last</a></li>
                {% else %}
                <li class="page-item disabled"><a class="page-link" href="?page=1">Next</a></li>
                <li class="page-item disabled"><a class="page-link" href="?page=1">Last</a></li>
				{% endif %}
			</ul>
            
		</nav>
        
	</div>
    <div class="row justify-content-center">
    <p class="lead"> Page {{ posts.number }} of {{ posts.paginator.num_pages }}</p>
    </div>
	{% endblock %}